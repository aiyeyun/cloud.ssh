<!DOCTYPE html>
<html>
<head>
    <title>Cloud.SSH</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta name="Keywords" content="Cloud.SSH">
    <meta name="Description" content="Cloud.SSH">
    <meta name="copyright" content="2015 ApiBox.Club">
    <meta name="author" content="Eric Shi/QQ:155122504">
    <link rel="shortcut icon" href="/static/images/favicon.ico" type="image/x-icon">


    <!--Import Google Icon Font-->
    <link href="static/css/family.Material.Icons.css" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="static/extend/materialize/css/materialize.min.css"  media="screen,projection"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="/static/css/login.css" rel="stylesheet">

    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="static/js/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="static/extend/materialize/js/materialize.min.js"></script>

</head>

<body>


<!-- Modal Structure -->
<div id="modal1" class="modal" style="color: black">
    <div class="modal-content">
        <h4>模态标题</h4>
        <p>一堆文本</p>
    </div>
    <div class="modal-footer">
        <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">同意</a>
    </div>
</div>

<div class="container">

    <div class="form">
        <form class="form-center" action="/login" method="post">
            {{if .}}
            <script>
                $('.modal').modal({
                        dismissible: true, // Modal can be dismissed by clicking outside of the modal
                        opacity: .5, // Opacity of modal background
                        in_duration: 300, // Transition in duration
                        out_duration: 200, // Transition out duration
                        starting_top: '4%', // Starting top style attribute
                        ending_top: '10%', // Ending top style attribute
                        ready: function(modal, trigger) { // Callback for Modal open. Modal and trigger parameters available.
                            //alert("Ready");
                            console.log(modal, trigger);
                        },
                        complete: function() {
                            //alert('Closed');
                        } // Callback for Modal close
                    }
                );
                $("#modal1 h4").text("{{.}}")
                $("#modal1 p").text("请检查连接信息")
                $('#modal1').modal('open');
            </script>
            {{end}}
            <h5><i class="material-icons">cloud</i>&nbsp;&nbsp;Cloude SSH Golang</h5>
            <br/>
            <div class="input-field">
                <i class="material-icons prefix">search</i>
                <input id="addr" name="addr" type="tel" class="validate">
                <label for="icon_telephone">地址</label>
            </div>
            <div class="input-field">
                <i class="material-icons prefix">call_made</i>
                <input id="port" name="port" type="tel" class="validate">
                <label for="icon_telephone">端口 默认 22</label>
            </div>
            <div class="input-field">
                <i class="material-icons prefix">account_circle</i>
                <input id="username" name="username" type="text" class="validate">
                <label for="icon_prefix">账号</label>
            </div>
            <div class="input-field">
                <i class="material-icons prefix">vpn_key</i>
                <input id="password" name="password" type="password" class="validate">
                <label for="icon_telephone">密码</label>
            </div>
            <button class="waves-effect waves-light btn" type="submit">登录</button>
        </form>
    </div>

</div>

</body>
</html>

<script>
    $(function () {

        $("form").submit(function () {
            var addr = $("#addr").val()
            var port = $("#port").val()
            var username = $("#username").val()
            var password = $("#password").val()
            if (addr == null || username == null || password == null){

                $('.modal').modal({
                        dismissible: true, // Modal can be dismissed by clicking outside of the modal
                        opacity: .5, // Opacity of modal background
                        in_duration: 300, // Transition in duration
                        out_duration: 200, // Transition out duration
                        starting_top: '4%', // Starting top style attribute
                        ending_top: '10%', // Ending top style attribute
                        ready: function(modal, trigger) { // Callback for Modal open. Modal and trigger parameters available.
                            //alert("Ready");
                            console.log(modal, trigger);
                        },
                        complete: function() {
                            //alert('Closed');
                        } // Callback for Modal close
                    }
                );
                $("#modal1 h4").text("请完善连接信息")
                $("#modal1 p").text("请完善连接信息")
                $('#modal1').modal('open');

                return false
            }
        })
    })
</script>

